function getElementsByClass(e,n){for(var t=(e=e||document).getElementsByTagName("*"),l=[],a=0;a<t.length;a++)for(var r=t[a].className.customSplit(" "),s=0;s<r.length;s++)if(r[s]===n){l.push(t[a]);break}return l}function addClass(e,n){for(var t=[],l=e.className.customSplit(" "),a=0;a<l.length;a++)""!==l[a]&&t.push(l[a]);t.push(n),e.className=t.join(" ")}function removeClass(e,n){for(var t=[],l=e.className.customSplit(" "),a=0;a<l.length;a++)""!==l[a]&&l[a]!==n&&t.push(l[a]);e.className=t.join(" ")}function hasClass(e,n){for(var t=[],l=e.className.customSplit(" "),a=0;a<l.length;a++)""!==l[a]&&t.push(l[a]);var r=!1;for(a=0;a<l.length;a++)t[a]==n&&(r=!0);return r}function turnSignalAnimation(e){hasClass(e,"light-on")?removeClass(e,"light-on"):addClass(e,"light-on")}function turnSignalOn(e){addClass(e,"turn-signal-on"),addClass(e,"light-on")}function turnSignalOff(e){removeClass(e,"turn-signal-on"),removeClass(e,"light-on")}function turnAllTurnSignalsOn(){var e=document.getElementById("turn-signal-left"),n=document.getElementById("turn-signal-right");turnSignalOn(e),turnSignalOn(n),turnSignalTimers.left=setInterval(turnSignalAnimation,turnSignalDuration,e),turnSignalTimers.right=setInterval(turnSignalAnimation,turnSignalDuration,n)}function turnAllTurnSignalsOff(){var e=document.getElementById("turn-signal-left"),n=document.getElementById("turn-signal-right");turnSignalOff(e),turnSignalOff(n),clearInterval(turnSignalTimers.left),clearInterval(turnSignalTimers.right)}function turnSignalClick(e){var n=e.id.replace("turn-signal-","");removeClass(document.getElementById("hazard-lights-btn"),"btn-pressed"),currentTurnSignal==n?(currentTurnSignal="",turnAllTurnSignalsOff(),stopTurnSignalAudio()):(currentTurnSignal=n,turnAllTurnSignalsOff(),turnSignalOn(e),turnSignalTimers[n]=setInterval(turnSignalAnimation,turnSignalDuration,e),playTurnSignalAudio())}function lightClick(e){hasClass(e,"light-on")?removeClass(e,"light-on"):addClass(e,"light-on")}function headlightsClick(){var e=document.getElementById("headlights"),n=getElementsByClass(e,"headlights-light"),t=getElementsByClass(e,"cycle-current")[0];headlightsIndex=(headlightsIndex+1)%4,removeClass(t,"cycle-current"),addClass(n[headlightsIndex],"cycle-current")}function acClick(){var e=document.getElementById("ac"),n=getElementsByClass(e,"ac-light"),t=getElementsByClass(e,"cycle-current")[0];acIndex=(acIndex+1)%4,removeClass(t,"cycle-current"),addClass(n[acIndex],"cycle-current")}function lockClick(){if(!locked){var e=document.getElementById("lock-btn"),n=document.getElementById("unlock-btn");locked=!0,addClass(e,"btn-pressed"),removeClass(n,"btn-pressed"),playLockAudio()}}function unlockClick(){if(locked){var e=document.getElementById("lock-btn"),n=document.getElementById("unlock-btn");locked=!1,removeClass(e,"btn-pressed"),addClass(n,"btn-pressed")}}function hazardLightsClick(){var e=document.getElementById("hazard-lights-btn");turnAllTurnSignalsOff(),"both"==currentTurnSignal?(currentTurnSignal="",removeClass(e,"btn-pressed"),stopTurnSignalAudio()):(currentTurnSignal="both",addClass(e,"btn-pressed"),turnAllTurnSignalsOn(),playTurnSignalAudio())}function getAngle(e,n){var t=document.getElementById("wheel"),l=t.offsetLeft+t.offsetWidth/2,a=t.offsetTop+t.offsetHeight/2;return Math.atan2(n-l,e-a)}function wheelMouseDown(e){e.stopPropagation(),e.preventDefault(),WheelDrag.isDragging=!0,WheelDrag.mouseDownAngle=getAngle(e.clientX,e.clientY)}function wheelMouseMove(e){if(WheelDrag.isDragging){e.stopPropagation(),e.preventDefault(),WheelDrag.mouseMoveAngle=getAngle(e.clientX,e.clientY),WheelDrag.mouseUpAngle=WheelDrag.restingAngle-(WheelDrag.mouseMoveAngle-WheelDrag.mouseDownAngle);var n=WheelDrag.mouseUpAngle*(180/Math.PI);(n%=360)<0&&(n+=360),360==(n=Math.round(n/WheelDrag.angleDelta)*WheelDrag.angleDelta)&&(n=0);var t=getElementsByClass(document,"wheel-active")[0],l=document.getElementById("wheel"+n);removeClass(t,"wheel-active"),addClass(l,"wheel-active")}}function wheelMouseUp(){WheelDrag.isDragging&&(WheelDrag.isDragging=!1,WheelDrag.restingAngle=WheelDrag.mouseUpAngle)}function hornClick(e){e.stopPropagation(),e.preventDefault(),playHornAudio()}function hornChange(e){currentHorn=e.value}String.prototype.customSplit=function(e){if("string"!=typeof e)throw new TypeError("Separator must be a string");var n=[],t="",l=e.length,a=this,r=a.length;if(0===l)throw new Error("Separator cannot be an empty string");for(var s=0;s<r;s++)if(a[s]===e[0]){for(var i=!0,g=1;g<l;g++)if(a[s+g]!==e[g]){i=!1;break}i?(n.push(t),t="",s+=l-1):t+=a[s]}else t+=a[s];return n.push(t),1===n.length&&n[0]===a?[a]:n};var turnSignalTimers={left:null,right:null},turnSignalDuration=365.71428571,currentTurnSignal="",headlightsIndex=0,acIndex=0,locked=!1,WheelDrag={isDragging:!1,angleDelta:20,restingAngle:0,mouseDownAngle:0,mouseMoveAngle:0,mouseUpAngle:0},currentHorn="honda-accord";